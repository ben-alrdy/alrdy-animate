"use strict";(this.webpackChunkAlrdyAnimate=this.webpackChunkAlrdyAnimate||[]).push([[955],{608:(e,t,r)=>{function a(e){const t=Array.from(e.querySelectorAll("[aa-clip-trigger]")),r=Array.from(e.querySelectorAll("[aa-clip-content]")),a=Array.from(e.querySelectorAll("[aa-clip-background]")),o=r.length,n={vertical:{start:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",end:"polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)",initial:"polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)"},right:{start:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",end:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)",initial:"polygon(100% 0%, 100% 0%, 100% 100%, 100% 100%)"},left:{start:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",end:"polygon(100% 0%, 100% 0%, 100% 100%, 100% 100%)",initial:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"}};t.forEach((e,t)=>{const i=r[t],l=a[t];if(!i)return;i.style.zIndex=o-t;const s=i.getAttribute("aa-clip-content")||"vertical",c=n[s],p=r[t+1],g=p?p.getAttribute("aa-clip-content")||"vertical":null,u=g?n[g]:null,d=gsap.timeline({scrollTrigger:{trigger:e,start:0===t?"top top":"top bottom",end:t===o-1?"bottom bottom":"bottom top",scrub:!0},defaults:{ease:"none"}});0===t?(gsap.set(i,{clipPath:c.start}),g===s?d.to(i,{clipPath:c.end}):g&&u&&d.to(i,{clipPath:u.end})):t===o-1?(gsap.set(i,{clipPath:c.initial}),d.to(i,{clipPath:c.start})):(gsap.set(i,{clipPath:c.initial}),d.to(i,{clipPath:c.start}),g===s?d.to(i,{clipPath:c.end}):g&&u&&d.to(i,{clipPath:u.end})),l&&gsap.timeline({scrollTrigger:{trigger:e,start:"top top",end:"bottom top",scrub:!0},defaults:{ease:"none"}}).to(l,{yPercent:50})})}function o(e,t,r){const a=Array.from(e.querySelectorAll("[aa-stack-trigger]")),o=Array.from(e.querySelectorAll("[aa-stack-content]")),n=o.length;o.forEach((e,t)=>{gsap.set(e,{opacity:0,zIndex:n-t})}),a.forEach((e,a)=>{const n=o[a];n&&gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:!!t&&(parseFloat(t)||!0)}}).fromTo(n,{opacity:0,yPercent:10*r},{opacity:1,yPercent:0,duration:.2},0).to(n,{opacity:1,yPercent:0,duration:.6},.2).to(n,{opacity:0,yPercent:-10*r,duration:.2},.8)})}function n(e,t,r,a=!1){if(ScrollTrigger.isTouch)return void(a&&console.log("Pin animation disabled on touch device for better user experience"));const o=e.getAttribute("aa-pin-type"),n={trigger:e,pin:!0,start:t,end:r,pinSpacing:!1,markers:a,invalidateOnRefresh:!0};o&&(n.pinType=o),ScrollTrigger.create(n)}function i(e,t,r,a=!1,o=null,n=null){if(ScrollTrigger.isTouch)return void(a&&console.log("Pin-stack animation disabled on touch device for better user experience"));const i=Array.from(e.children),l=e.settings.distance;if(0===i.length)return void console.warn('aa-animate="pin-stack": No children found to stack');const s=e.hasAttribute("aa-pin-trigger-animations")?parseFloat(e.getAttribute("aa-pin-trigger-animations")):.7,u=parseFloat(getComputedStyle(e).rowGap)||0;gsap.set(e,{display:"grid",perspective:"1000px"}),i.forEach(e=>{gsap.set(e,{gridArea:"1 / 1 / 2 / 2"})});const d=i.map(e=>e.offsetHeight),m=e.getAttribute("aa-pin-type"),f={trigger:e,start:t,end:r,scrub:!0,pin:!0,pinSpacing:!0,markers:a,invalidateOnRefresh:!0};m&&(f.pinType=m);const y=gsap.timeline({defaults:{ease:"none"},scrollTrigger:f});return i.forEach((t,r)=>{t.setAttribute("data-pin-stack-card",r);const a=Array.from(t.querySelectorAll("[aa-animate]"));0===r?(a.forEach(t=>{t.setAttribute("aa-pinned-container",e.id||`pin-stack-${Date.now()}`)}),e.id||(e.id=`pin-stack-${Date.now()}`)):a.forEach(e=>{e.setAttribute("aa-event-trigger","")})}),p(i,d,u,y,o,l),n&&g(i,0,0,y,n,l),e.pinStackTimeline=y,e.pinStackConfig={children:i,gap:u,inAnimation:o,outAnimation:n,distance:l,debug:a,triggerOffset:s},setTimeout(()=>{const t=window.scrollY,r=t+.5*window.innerHeight,a=e.getBoundingClientRect(),o=a.top+t,n=a.bottom+t,l=n<r;if(o<=r&&n>=r){const e=y.time();i.forEach((t,r)=>{if(0===r)return;const a=Array.from(t.querySelectorAll("[aa-animate]"));0!==a.length&&e>=r-s&&a.forEach(e=>{e._delayedCall&&e._delayedCall.kill(),e.classList.add("in-view"),e.style.visibility="visible",e.timeline&&e.timeline.progress(1)})})}else l&&i.forEach((e,t)=>{if(0===t)return;const r=Array.from(e.querySelectorAll("[aa-animate]"));0!==r.length&&r.forEach(e=>{e._delayedCall&&e._delayedCall.kill(),e.classList.add("in-view"),e.style.visibility="visible",e.timeline&&e.timeline.progress(1)})})},100),c(i,y,s),y}function l(e){if(!e.pinStackTimeline||!e.pinStackConfig)return;const{children:t,inAnimation:r,outAnimation:a,distance:o,debug:n,triggerOffset:i}=e.pinStackConfig,l=e.pinStackTimeline,u=l.time(),d=parseFloat(getComputedStyle(e).rowGap)||0,m=t.map(e=>e.offsetHeight);l.clear(),delete l._directionTrackingSetup,t.forEach(e=>{gsap.set(e,{gridArea:"1 / 1 / 2 / 2",clearProps:"y,x,opacity,scale,rotation,rotationX,filter"})}),p(t,m,d,l,r,o),a&&g(t,0,0,l,a,o),c(t,l,i),l.time(u),l._previousProgress=l.progress(),function(e,t,r){e.forEach((e,a)=>{if(0===a)return;const o=Array.from(e.querySelectorAll("[aa-animate]")),n=t>=a-r;o.forEach(e=>{n?(e._delayedCall&&e._delayedCall.kill(),e.classList.add("in-view"),e.style.visibility="visible",e.timeline&&e.timeline.progress(1)):s(e)})})}(t,u,i),e.pinStackConfig.gap=d}function s(e){e.dispatchEvent(new CustomEvent("aa-event-trigger",{detail:{action:"reverse",timeScale:1}}))}function c(e,t,r,a){var o;(o=t)._directionTrackingSetup||(o._previousProgress=o._previousProgress??o.progress(),o.eventCallback("onUpdate",()=>{const e=o.progress();o._isReversing=e<o._previousProgress,o._previousProgress=e}),o._directionTrackingSetup=!0),e.forEach((e,a)=>{if(0===a)return;const o=Array.from(e.querySelectorAll("[aa-animate]"));0!==o.length&&(t.call(()=>{t._isReversing||o.forEach(e=>{var t,r;t=e,r=e.settings?.delay||0,t.dispatchEvent(new CustomEvent("aa-event-trigger",{detail:{action:"play",timeScale:1,delay:r||0}}))})},null,a-r),t.call(()=>{t._isReversing&&o.forEach(e=>{s(e)})},null,a-1))})}function p(e,t,r,a,o,n){e.forEach((e,i)=>{const l=t[i];let s=(l+r)*i,c=0;const p={duration:1*i,ease:"none"};switch(o){case"fade":p.opacity=0;break;case"scale":gsap.set(e,{transformOrigin:"center center"}),p.scale=.8*n;break;case"rotate":gsap.set(e,{transformOrigin:"center center"}),p.rotation=15*(i%2==0?1:-1),c=.5*l*n}p.y=s+c,a.from(e,p,0)})}function g(e,t,r,a,o,n){e.forEach((t,r)=>{if(r===e.length-1)return;"perspective"===o&&gsap.set(t,{transformOrigin:"top center",transformStyle:"preserve-3d"});const i=r,l=e.length-r-1,s={ease:"none"};switch(o){case"perspective":s.scale=.9+.025*r,s.rotationX=-15,s.y=-2*n+"rem",s.duration=l;break;case"right":s.x=4*n+"rem",s.duration=l;break;case"left":s.x=-4*n+"rem",s.duration=l;break;case"scale":s.scale=.85*n,s.duration=1;break;case"blur":s.filter="blur(8px)",s.scale=.9,s.y=-4*n+"rem",s.duration=1;break;case"fade":s.opacity=0,s.duration=1;break;case"fade-scale":s.opacity=0,s.scale=.85*n,s.duration=1;break;default:return}a.to(t,s,i)})}function u(e,t){return{backgroundColor:(r,a,o,n,i,l,s)=>{!function(e,t,r,a,o,n,i,l=!1,s){function c(e){return e?e.split(";").reduce((e,t)=>{const[r,a]=t.split(":").map(e=>e.trim());return"bg"!==r&&"text"!==r||(e["bg"===r?"backgroundColor":"color"]=a),e},{}):{}}function p(e){return Object.keys(e).length>0}function g(e,r){p(r)&&t.set(e,r)}const u=getComputedStyle(e),d={backgroundColor:u.backgroundColor,color:u.color},m=Array.from(e.querySelectorAll("[aa-wrapper-colors]")).map((e,t)=>{const r=c(e.getAttribute("aa-wrapper-colors")),a=Array.from(e.querySelectorAll("[aa-item-colors]")).map(e=>{const t=c(e.getAttribute("aa-item-colors"));return{element:e,colors:t}}),o=c(e.getAttribute("aa-item-colors"));let n=null;return p(o)&&(n={element:e,colors:o}),{element:e,colors:r,items:n?[n,...a]:a}});0!==m.length&&(setTimeout(()=>{const t=window.scrollY,r=t+.5*window.innerHeight;let a=-1;for(let e=0;e<m.length;e++){const o=m[e].element.getBoundingClientRect(),n=o.top+t,i=o.bottom+t;if(n<=r&&i>=r){a=e;break}}if(a>=0){const t=m[a];g(e,t.colors),t.items.forEach(e=>{g(e.element,e.colors)})}else g(e,d)},100),m.forEach((c,g)=>{const u=g>0?m[g-1]:null;if(s){const a=t.timeline({defaults:{duration:1,ease:"none"},paused:!0,data:{index:g}});if(p(c.colors)){const t=u?{backgroundColor:u.colors.backgroundColor,color:u.colors.color}:d;a.fromTo(e,t,c.colors,0)}c.items.forEach(e=>{p(e.colors)&&a.to(e.element,{backgroundColor:e.colors.backgroundColor,color:e.colors.color},"<")}),r.create({trigger:c.element,start:n,end:i,scrub:!!s&&(parseFloat(s)||!0),animation:a,markers:l,invalidateOnRefresh:!0,fastScrollEnd:!0,preventOverlaps:!0}),c.element.dataset.stId=`background-${g}`}else{const i=t.timeline({paused:!0,defaults:{duration:a,ease:o}});p(c.colors)&&i.to(e,c.colors),c.items.forEach(e=>{p(e.colors)&&i.to(e.element,{...e.colors},"<")}),r.create({trigger:c.element,start:n,onEnter:()=>{i.play()},onLeaveBack:()=>{i.reverse()},markers:l})}}))}(r,e,t,a,o,n,i,l,s)},parallax:(t,r,a)=>{!function(e,t,r,a,o){const n=e.querySelector("[aa-parallax-target]")||e,i=o&&o.includes("horizontal")?"xPercent":"yPercent",l=!a||parseFloat(a),s=e.getAttribute("aa-parallax-start"),c=null!==s?parseFloat(s):10,p=e.getAttribute("aa-parallax-end"),g=null!==p?parseFloat(p):-10,u=`clamp(${e.getAttribute("aa-scroll-start")||"top bottom"})`,d=`clamp(${e.getAttribute("aa-scroll-end")||"bottom top"})`;t.fromTo(n,{[i]:c},{[i]:g,ease:"none",scrollTrigger:{trigger:e,start:u,end:d,scrub:l}})}(t,e,0,r,a)},clip:e=>a(e),stack:(e,t,r)=>o(e,t,r),pin:(e,t,r,a)=>{n(e,t,r,a)},pinStack:(e,t,r,a,o,n)=>i(e,t,r,a,o,n),updatePinStackOnResize:e=>{l(e)}}}r.r(t),r.d(t,{createSectionAnimations:()=>u})}}]);