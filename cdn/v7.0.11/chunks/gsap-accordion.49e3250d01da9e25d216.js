"use strict";(this.webpackChunkAlrdyAnimate=this.webpackChunkAlrdyAnimate||[]).push([[151],{665:(t,e,a)=>{a.r(e),a.d(e,{createAccordionAnimations:()=>A});var i=a(543);function r(t,e,a){return(e=g(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);a<e;a++)i[a]=t[a];return i}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,g(i.key),i)}}function u(t,e,a){return e&&l(t.prototype,e),a&&l(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var d=function(){return u((function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;c(this,t),this.accordion=e,this.defaultDuration=a,this.toggles=[],this.contents=[],this.visuals=[],this.elementMap=new Map,this.initializeElements()}),[{key:"initializeElements",value:function(){var t=this;this.toggles=Array.from(this.accordion.querySelectorAll("[aa-accordion-toggle]")),this.contents=Array.from(this.accordion.querySelectorAll("[aa-accordion-content]")),this.visuals=Array.from(this.accordion.querySelectorAll("[aa-accordion-visual]")),this.toggles.forEach((function(e){var a=e.getAttribute("aa-accordion-toggle"),i=t.accordion.querySelector('[aa-accordion-content="'.concat(a,'"]')),r=t.accordion.querySelector('[aa-accordion-visual="'.concat(a,'"]')),o=e.querySelector("[aa-accordion-progress]"),n=parseFloat(e.getAttribute("aa-duration"))||t.defaultDuration,s=parseFloat(e.getAttribute("aa-delay"))||0,c=i&&parseFloat(i.getAttribute("aa-duration"))||t.defaultDuration/2,l=r&&parseFloat(r.getAttribute("aa-duration"))||t.defaultDuration,u=r&&parseFloat(r.getAttribute("aa-delay"))||0,g=(l+u)/2;t.elementMap.set(a,{toggle:e,content:i,visual:r,progressElement:o,duration:n,delay:s,contentDuration:c,reverseDuration:(n+s)/2,visualDuration:l,visualDelay:u,visualReverseDuration:g})})),this.setupEventTriggering()}},{key:"setupEventTriggering",value:function(){var t=this;this.toggles.forEach((function(e){var a=e.getAttribute("aa-accordion-toggle"),i=t.elementMap.get(a);i&&(i.content&&t.markElementsForEventTriggering(i.content),i.visual&&t.markElementsForEventTriggering(i.visual))}))}},{key:"markElementsForEventTriggering",value:function(t){[].concat(n(t.hasAttribute("aa-animate")?[t]:[]),n(t.querySelectorAll("[aa-animate]"))).forEach((function(t){t.setAttribute("aa-event-trigger","")}))}},{key:"getElementData",value:function(t){return this.elementMap.get(t)}},{key:"getAllToggles",value:function(){return this.toggles}},{key:"getActiveToggle",value:function(){return this.accordion.querySelector('[aa-accordion-toggle][aa-accordion-status="active"]')}},{key:"getActiveVisual",value:function(){return this.accordion.querySelector('[aa-accordion-visual][aa-accordion-status="active"]')}},{key:"getActiveVisualData",value:function(){var t=this.getActiveVisual();if(!t)return null;var e=t.getAttribute("aa-accordion-visual");return this.getElementData(e)}}])}(),v=function(){return u((function t(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;c(this,t),this.accordion=e,this.state=a,this.defaultDuration=i,this.accordionType=e.getAttribute("aa-accordion")||"basic",this.isMulti="multi"===this.accordionType,this.isAutoplay="autoplay"===this.accordionType,this.isScroll="scroll"===this.accordionType,this.isSingle="single"===this.accordionType,this.refreshTimer=null,this.debouncedRefresh=this.debouncedRefresh.bind(this),this.setupEventDelegation()}),[{key:"debouncedRefresh",value:function(){var t=this;this.refreshTimer&&this.refreshTimer.kill(),this.refreshTimer=gsap.delayedCall(.1,(function(){window.ScrollTrigger&&window.ScrollTrigger.refresh(),t.refreshTimer=null}))}},{key:"setupEventDelegation",value:function(){var t=this;this.accordion.addEventListener("click",(function(e){var a=e.target.closest("[aa-accordion-toggle]");a&&t.handleToggle(a)})),this.accordion.addEventListener("keydown",(function(e){var a=e.target.closest("[aa-accordion-toggle]");a&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.handleToggle(a)))}))}},{key:"handleToggle",value:function(t){var e=t.getAttribute("aa-accordion-toggle"),a=this.state.getElementData(e);if(a){var i="active"===t.getAttribute("aa-accordion-status");i&&this.isSingle||(i?this.closeAccordion(t,a):this.openAccordion(t,a))}}},{key:"openAccordion",value:function(t,e){var a=this,i=(e.toggleId,e.content),r=e.visual;if(!this.isMulti){var o=this.state.getActiveToggle();if(o&&o!==t){var n=o.getAttribute("aa-accordion-toggle"),s=this.state.getElementData(n);s&&this.closeAccordion(o,s)}}t.setAttribute("aa-accordion-status","active"),i?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-selected","true"),r&&r.setAttribute("aria-hidden","false"),i&&(gsap.set(i,{gridTemplateRows:"1fr"}),i.setAttribute("aa-accordion-status","active"),f(i,"play")),r&&this.handleVisualOpening(r,e),gsap.delayedCall(e.contentDuration,(function(){a.debouncedRefresh()}))}},{key:"closeAccordion",value:function(t,e){var a=this,i=e.content,r=e.visual,o=e.contentDuration;e.reverseDuration,t.setAttribute("aa-accordion-status","inactive"),i?t.setAttribute("aria-expanded","false"):t.setAttribute("aria-selected","false"),r&&r.setAttribute("aria-hidden","true"),i&&(i.setAttribute("aa-accordion-status","inactive"),gsap.set(i,{gridTemplateRows:"0fr"}),f(i,"reverse")),r&&(f(r,"reverse"),gsap.delayedCall(e.visualReverseDuration,(function(){gsap.set(r,{visibility:"hidden"}),r.setAttribute("aa-accordion-status","inactive")}))),this.resetProgressBar(e),gsap.delayedCall(o,(function(){a.debouncedRefresh()}))}},{key:"handleVisualOpening",value:function(t,e){var a=this,i=this.state.getActiveVisualData();i&&i.visual!==t?gsap.delayedCall(i.visualReverseDuration,(function(){a.startVisualAnimation(t)})):this.startVisualAnimation(t)}},{key:"startVisualAnimation",value:function(t){t.setAttribute("aa-accordion-status","active"),gsap.set(t,{visibility:"visible"}),f(t,"play")}},{key:"resetProgressBar",value:function(t){var e=t.progressElement,a=t.toggle;if(e){var i=a.querySelector('circle[aa-accordion-progress="circle"]');if(i)i.style.strokeDasharray="10000",i.style.strokeDashoffset="10000";else{var o=e.getAttribute("aa-accordion-progress")||"width";gsap.set(e,r({},o,0))}}}},{key:"triggerAccordionAnimations",value:function(t,e){f(t,e)}}])}();function f(t,e){var a=[].concat(n(t.hasAttribute("aa-animate")?[t]:[]),n(t.querySelectorAll("[aa-animate]")));(0,i.I)(a,e)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;!function(t){var e=t.querySelectorAll("[aa-accordion-toggle]"),a=t.querySelectorAll("[aa-accordion-content]"),i=t.querySelectorAll("[aa-accordion-visual]");e.forEach((function(t,e){t.getAttribute("aa-accordion-toggle")||t.setAttribute("aa-accordion-toggle","accordion-".concat(e))})),a.forEach((function(t,e){t.getAttribute("aa-accordion-content")||t.setAttribute("aa-accordion-content","accordion-".concat(e))})),i.forEach((function(t,e){t.getAttribute("aa-accordion-visual")||t.setAttribute("aa-accordion-visual","accordion-".concat(e))}))}(t),"scroll"===o&&window.ScrollTrigger&&ScrollTrigger.isTouch&&(t.setAttribute("aa-accordion","single"),o="single");var n=new d(t,i),s=new v(t,n,i);!function(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.querySelector("[aa-accordion-initial]"),n="single"===(t.getAttribute("aa-accordion")||"basic");e.toggles.forEach((function(t){var a=t.getAttribute("aa-accordion-toggle"),i=e.getElementData(a);t.setAttribute("aa-accordion-status","inactive"),i.content&&i.content.setAttribute("aa-accordion-status","inactive"),function(t,e,a,i){var r="accordion-toggle-".concat(i),o="accordion-content-".concat(i),n="accordion-visual-".concat(i);t.setAttribute("id",r),t.setAttribute("tabindex","0"),e&&a?(t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",o),e.setAttribute("id",o),e.setAttribute("aria-labelledby",r),e.setAttribute("role","region"),a.setAttribute("id",n),a.setAttribute("aria-hidden","true")):e?(t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",o),e.setAttribute("id",o),e.setAttribute("aria-labelledby",r),e.setAttribute("role","region")):a&&(t.setAttribute("role","tab"),t.setAttribute("aria-selected","false"),t.setAttribute("aria-controls",n),a.setAttribute("id",n),a.setAttribute("aria-labelledby",r),a.setAttribute("role","tabpanel"))}(t,i.content,i.visual,a),i.visual&&(i.visual.setAttribute("aa-accordion-status","inactive"),gsap.set(i.visual,{visibility:"hidden"}))})),e.contents.forEach((function(t){var e=parseFloat(t.getAttribute("aa-duration"))||r/2;t.style.setProperty("--aa-duration","".concat(e,"s"))}));var s=o;if(n&&!s&&e.toggles.length>0&&(s=e.toggles[0]),s){var c=s.getAttribute("aa-accordion-toggle"),l=e.getElementData(c);if(l){var u=function(){s.setAttribute("aa-accordion-status","active"),l.content?s.setAttribute("aria-expanded","true"):s.setAttribute("aria-selected","true"),l.visual&&l.visual.setAttribute("aria-hidden","false"),l.content&&(gsap.set(l.content,{gridTemplateRows:"1fr"}),l.content.setAttribute("aa-accordion-status","active"),f(l.content,"play")),l.visual&&(l.visual.setAttribute("aa-accordion-status","active"),gsap.set(l.visual,{visibility:"visible"}),f(l.visual,"play"))};document.addEventListener("aa-text-splitting-complete",u,{once:!0}),gsap.delayedCall(.1,(function(){"active"!==s.getAttribute("aa-accordion-status")&&u()}))}}}(t,n,e,a,i),"scroll"===o?function(t,e,a){if(window.ScrollTrigger){var i=t.getAttribute("aa-scroll-start")||"top 20%",o=t.getAttribute("aa-distance")||"30",n=t.getAttribute("aa-scrub")||"true",s=e.toggles.length,c=s*parseFloat(o)*window.innerHeight/100,l=t.querySelector("[aa-accordion-initial]"),u=l&&e.toggles[0]===l,g=u?0:-1,d={value:0},v=gsap.to(d,{value:1,duration:1,ease:"none",paused:!0,onUpdate:function(){var t,i=d.value;if(t=u||i>0?Math.min(Math.floor(i*s),s-1):-1,g!==t){if(g>=0){var o=e.toggles[g],n=o.getAttribute("aa-accordion-toggle"),c=e.getElementData(n);c&&a.closeAccordion(o,c)}if(t>=0){var l=e.toggles[t],v=l.getAttribute("aa-accordion-toggle"),f=e.getElementData(v);f&&a.openAccordion(l,f)}g=t}!function(t,e,a,i){t.forEach((function(t,o){var n=t.querySelector("[aa-accordion-progress]");if(n){var s=n.getAttribute("aa-accordion-progress")||"width";if(o===e){var c=a*i-o,l=Math.max(0,Math.min(1,c));if("circle"===s){var u=t.querySelector('circle[aa-accordion-progress="circle"]');if(u){var g=parseFloat(u.getAttribute("r"))||25,d=2*Math.PI*g,v=d-l*d;u.style.strokeDashoffset=v}}else gsap.set(n,r({},s,"".concat(100*l,"%")))}else if("circle"===s){var f=t.querySelector('circle[aa-accordion-progress="circle"]');if(f){var b=parseFloat(f.getAttribute("r"))||25,A=2*Math.PI*b;f.style.strokeDashoffset=A}}else gsap.set(n,r({},s,"0%"))}}))}(e.toggles,t,i,s)}}),f=ScrollTrigger.create({trigger:t,start:i,end:"+=".concat(c),pin:!0,pinSpacing:!0,scrub:n&&parseFloat(n)||!0,animation:v}),b=a.handleToggle.bind(a);a.handleToggle=function(t){var a=e.toggles.indexOf(t);if(-1===a)return b(t);if(f){var i=c/s,r=.05*i,o=f.start+a*i+r;window.lenis?window.lenis.scrollTo(o,{duration:1.2,offset:0,easing:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2}}):gsap.ScrollToPlugin?gsap.to(window,{duration:1.2,scrollTo:{y:o,autoKill:!1},ease:"power2.inOut"}):window.scrollTo({top:o,behavior:"smooth"})}}}}(t,n,s):"autoplay"===o&&function(t,e,a){var i=null,o=0,n=null,s=null,c=t.querySelector("[aa-accordion-initial]");if(c){n=c,o=e.toggles.indexOf(c);var l=c.getAttribute("aa-accordion-toggle"),u=e.getElementData(l);u&&(c.setAttribute("aa-accordion-status","active"),u.content?c.setAttribute("aria-expanded","true"):c.setAttribute("aria-selected","true"),u.visual&&u.visual.setAttribute("aria-hidden","false"),u.content&&(gsap.set(u.content,{gridTemplateRows:"1fr"}),u.content.setAttribute("aa-accordion-status","active"),f(u.content,"play")),u.visual&&(u.visual.setAttribute("aa-accordion-status","active"),gsap.set(u.visual,{visibility:"visible"}),f(u.visual,"play")))}function g(c){if(!(c>=e.toggles.length)){var l=e.toggles[c],u=l.getAttribute("aa-accordion-toggle"),d=e.getElementData(u);if(d){if(n&&n!==l){var v=n.getAttribute("aa-accordion-toggle"),f=e.getElementData(v);f&&a.closeAccordion(n,f)}"active"===l.getAttribute("aa-accordion-status")||(a.openAccordion(l,d),n=l);var b=parseFloat(t.getAttribute("aa-duration"))||5;o=c,function(t,a){var o;i&&i.kill();var n=e.toggles[t],c=e.getElementData(n.getAttribute("aa-accordion-toggle"));if(c){var l=n.querySelector('circle[aa-accordion-progress="circle"]');if(l){var u,d=l.getAttribute("aa-ease")||"power1.inOut",v=parseFloat(l.getAttribute("r"))||25,f=2*Math.PI*v;l.style.strokeDasharray=f,l.style.strokeDashoffset=f,i=gsap.to(l,{strokeDashoffset:0,duration:a,ease:d,onComplete:function(){var a;null!==(a=s)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)},paused:!(null!==(u=s)&&void 0!==u&&u.isActive)})}else if(c.progressElement){var b,A=c.progressElement.getAttribute("aa-accordion-progress")||"width",h=c.progressElement.getAttribute("aa-ease")||"power1.inOut";"circle"===A?i=gsap.delayedCall(a,(function(){var a;null!==(a=s)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)})):(gsap.set(c.progressElement,r({},A,0)),i=gsap.to(c.progressElement,r(r(r(r(r({},A,"100%"),"duration",a),"ease",h),"onComplete",(function(){var a;null!==(a=s)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)})),"paused",!(null!==(b=s)&&void 0!==b&&b.isActive))))}else i=gsap.delayedCall(a,(function(){var a;null!==(a=s)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)}));null!==(o=s)&&void 0!==o&&o.isActive&&i.play()}}(c,b)}}}a.handleToggle.bind(a),a.handleToggle=function(r){var c,l,u=r.getAttribute("aa-accordion-toggle"),d=e.getElementData(u);if(d){var v="active"===r.getAttribute("aa-accordion-status"),f=t.querySelector("[aa-accordion-initial]");if(null!==(c=i)&&void 0!==c&&c.isActive()&&e.toggles.indexOf(r)===o)return;if(i&&(i.kill(),i=null),(!v||!f)&&(v?a.closeAccordion(r,d):(e.toggles.forEach((function(t){if(t!==r){var i=t.getAttribute("aa-accordion-toggle"),o=e.getElementData(i);"active"===t.getAttribute("aa-accordion-status")&&o&&a.closeAccordion(t,o)}})),a.openAccordion(r,d),n=r),null!==(l=s)&&void 0!==l&&l.isActive)){var b=e.toggles.indexOf(r);-1!==b&&g(b)}}},window.ScrollTrigger&&(s=ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",toggleActions:"play pause resume pause",onEnter:function(){i||gsap.delayedCall(.1,(function(){g(o)}))},onToggle:function(t){var e=t.isActive;i&&(e?i.play():i.pause())}})).isActive&&gsap.delayedCall(.2,(function(){g(o)}))}(t,n,s)}function A(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{accordion:function(t){b(t,e,a,i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}}}]);