"use strict";(this.webpackChunkAlrdyAnimate=this.webpackChunkAlrdyAnimate||[]).push([[151],{665:(t,e,a)=>{a.r(e),a.d(e,{createAccordionAnimations:()=>y});var i=a(543);function r(t,e,a){return(e=d(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return l(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=Array(e);a<e;a++)i[a]=t[a];return i}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function g(t,e,a){return e&&u(t.prototype,e),a&&u(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var v=function(){return g((function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s(this,t),this.accordion=e,this.defaultDuration=a,this.toggles=[],this.contents=[],this.visuals=[],this.elementMap=new Map,this.initializeElements()}),[{key:"initializeElements",value:function(){var t=this;this.toggles=Array.from(this.accordion.querySelectorAll("[aa-accordion-toggle]")),this.contents=Array.from(this.accordion.querySelectorAll("[aa-accordion-content]")),this.visuals=Array.from(this.accordion.querySelectorAll("[aa-accordion-visual]")),this.toggles.forEach((function(e){var a=e.getAttribute("aa-accordion-toggle"),i=t.accordion.querySelector('[aa-accordion-content="'.concat(a,'"]')),r=t.accordion.querySelector('[aa-accordion-visual="'.concat(a,'"]')),o=e.querySelector("[aa-accordion-progress]"),n=parseFloat(e.getAttribute("aa-duration"))||t.defaultDuration,c=parseFloat(e.getAttribute("aa-delay"))||0,l=i&&parseFloat(i.getAttribute("aa-duration"))||t.defaultDuration/2,s=r&&parseFloat(r.getAttribute("aa-duration"))||t.defaultDuration,u=r&&parseFloat(r.getAttribute("aa-delay"))||0,g=(s+u)/2;t.elementMap.set(a,{toggle:e,content:i,visual:r,progressElement:o,duration:n,delay:c,contentDuration:l,reverseDuration:(n+c)/2,visualDuration:s,visualDelay:u,visualReverseDuration:g})})),this.setupEventTriggering()}},{key:"setupEventTriggering",value:function(){var t=this;this.toggles.forEach((function(e){var a=e.getAttribute("aa-accordion-toggle"),i=t.elementMap.get(a);i&&(i.content&&t.markElementsForEventTriggering(i.content),i.visual&&t.markElementsForEventTriggering(i.visual))}))}},{key:"markElementsForEventTriggering",value:function(t){[].concat(n(t.hasAttribute("aa-animate")?[t]:[]),n(t.querySelectorAll("[aa-animate]"))).forEach((function(t){t.setAttribute("aa-event-trigger","")}))}},{key:"getElementData",value:function(t){return this.elementMap.get(t)}},{key:"getAllToggles",value:function(){return this.toggles}},{key:"getActiveToggle",value:function(){return this.accordion.querySelector('[aa-accordion-toggle][aa-accordion-status="active"]')}},{key:"getActiveVisual",value:function(){return this.accordion.querySelector('[aa-accordion-visual][aa-accordion-status="active"]')}},{key:"getActiveVisualData",value:function(){var t=this.getActiveVisual();if(!t)return null;var e=t.getAttribute("aa-accordion-visual");return this.getElementData(e)}}])}(),f=function(){return g((function t(e,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;s(this,t),this.accordion=e,this.state=a,this.defaultDuration=i,this.accordionType=e.getAttribute("aa-accordion"),this.isMulti="multi"===this.accordionType,this.isAutoplay="autoplay"===this.accordionType,this.isScroll="scroll"===this.accordionType,this.setupEventDelegation()}),[{key:"setupEventDelegation",value:function(){var t=this;this.accordion.addEventListener("click",(function(e){var a=e.target.closest("[aa-accordion-toggle]");a&&t.handleToggle(a)})),this.accordion.addEventListener("keydown",(function(e){var a=e.target.closest("[aa-accordion-toggle]");a&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.handleToggle(a)))}))}},{key:"handleToggle",value:function(t){var e=t.getAttribute("aa-accordion-toggle"),a=this.state.getElementData(e);a&&("active"===t.getAttribute("aa-accordion-status")?this.closeAccordion(t,a):this.openAccordion(t,a))}},{key:"openAccordion",value:function(t,e){e.toggleId;var a=e.content,i=e.visual;if(!this.isMulti){var r=this.state.getActiveToggle();if(r&&r!==t){var o=r.getAttribute("aa-accordion-toggle"),n=this.state.getElementData(o);n&&this.closeAccordion(r,n)}}t.setAttribute("aa-accordion-status","active"),a?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-selected","true"),i&&i.setAttribute("aria-hidden","false"),a&&(gsap.set(a,{gridTemplateRows:"1fr"}),a.setAttribute("aa-accordion-status","active"),b(a,"play")),i&&this.handleVisualOpening(i,e),gsap.delayedCall(e.contentDuration,(function(){window.ScrollTrigger&&window.ScrollTrigger.refresh()}))}},{key:"closeAccordion",value:function(t,e){var a=e.content,i=e.visual,r=e.contentDuration;e.reverseDuration,t.setAttribute("aa-accordion-status","inactive"),a?t.setAttribute("aria-expanded","false"):t.setAttribute("aria-selected","false"),i&&i.setAttribute("aria-hidden","true"),a&&(a.setAttribute("aa-accordion-status","inactive"),gsap.set(a,{gridTemplateRows:"0fr"}),b(a,"reverse")),i&&(b(i,"reverse"),gsap.delayedCall(e.visualReverseDuration,(function(){gsap.set(i,{visibility:"hidden"}),i.setAttribute("aa-accordion-status","inactive")}))),this.resetProgressBar(e),gsap.delayedCall(r,(function(){window.ScrollTrigger&&window.ScrollTrigger.refresh()}))}},{key:"handleVisualOpening",value:function(t,e){var a=this,i=this.state.getActiveVisualData();i&&i.visual!==t?gsap.delayedCall(i.visualReverseDuration,(function(){a.startVisualAnimation(t)})):this.startVisualAnimation(t)}},{key:"startVisualAnimation",value:function(t){t.setAttribute("aa-accordion-status","active"),gsap.set(t,{visibility:"visible"}),b(t,"play")}},{key:"resetProgressBar",value:function(t){var e=t.progressElement,a=t.toggle;if(e){var i=a.querySelector('circle[aa-accordion-progress="circle"]');if(i)i.style.strokeDasharray="10000",i.style.strokeDashoffset="10000";else{var o=e.getAttribute("aa-accordion-progress")||"width";gsap.set(e,r({},o,0))}}}},{key:"triggerAccordionAnimations",value:function(t,e){b(t,e)}}])}();function b(t,e){var a=[].concat(n(t.hasAttribute("aa-animate")?[t]:[]),n(t.querySelectorAll("[aa-animate]")));(0,i.I)(a,e)}function A(t,e){if(!t)return e;if(t.includes("|")){var a=(o=t.split("|"),n=2,function(t){if(Array.isArray(t))return t}(o)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,r,o,n,c=[],l=!0,s=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(i=o.call(a)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{if(!l&&null!=a.return&&(n=a.return(),Object(n)!==n))return}finally{if(s)throw r}}return c}}(o,n)||c(o,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],r=a[1];return window.innerWidth<768?r.trim():i.trim()}var o,n;return t.trim()}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;!function(t){var e=t.querySelectorAll("[aa-accordion-toggle]"),a=t.querySelectorAll("[aa-accordion-content]"),i=t.querySelectorAll("[aa-accordion-visual]");e.forEach((function(t,e){t.getAttribute("aa-accordion-toggle")||t.setAttribute("aa-accordion-toggle","accordion-".concat(e))})),a.forEach((function(t,e){t.getAttribute("aa-accordion-content")||t.setAttribute("aa-accordion-content","accordion-".concat(e))})),i.forEach((function(t,e){t.getAttribute("aa-accordion-visual")||t.setAttribute("aa-accordion-visual","accordion-".concat(e))}))}(t);var o=new v(t,i),n=new f(t,o,i);!function(t,e,a,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.querySelector("[aa-accordion-initial]");if(e.toggles.forEach((function(t){var a=t.getAttribute("aa-accordion-toggle"),i=e.getElementData(a);t.setAttribute("aa-accordion-status","inactive"),i.content&&i.content.setAttribute("aa-accordion-status","inactive"),function(t,e,a,i){var r="accordion-toggle-".concat(i),o="accordion-content-".concat(i),n="accordion-visual-".concat(i);t.setAttribute("id",r),t.setAttribute("tabindex","0"),e&&a?(t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",o),e.setAttribute("id",o),e.setAttribute("aria-labelledby",r),e.setAttribute("role","region"),a.setAttribute("id",n),a.setAttribute("aria-hidden","true")):e?(t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls",o),e.setAttribute("id",o),e.setAttribute("aria-labelledby",r),e.setAttribute("role","region")):a&&(t.setAttribute("role","tab"),t.setAttribute("aria-selected","false"),t.setAttribute("aria-controls",n),a.setAttribute("id",n),a.setAttribute("aria-labelledby",r),a.setAttribute("role","tabpanel"))}(t,i.content,i.visual,a),i.visual&&(i.visual.setAttribute("aa-accordion-status","inactive"),gsap.set(i.visual,{visibility:"hidden"}))})),e.contents.forEach((function(t){var e=parseFloat(t.getAttribute("aa-duration"))||r/2;t.style.setProperty("--aa-duration","".concat(e,"s"))})),o){var n=o.getAttribute("aa-accordion-toggle"),c=e.getElementData(n);c&&gsap.delayedCall(.1,(function(){o.setAttribute("aa-accordion-status","active"),c.content?o.setAttribute("aria-expanded","true"):o.setAttribute("aria-selected","true"),c.visual&&c.visual.setAttribute("aria-hidden","false"),c.content&&(gsap.set(c.content,{gridTemplateRows:"1fr"}),c.content.setAttribute("aa-accordion-status","active"),b(c.content,"play")),c.visual&&(c.visual.setAttribute("aa-accordion-status","active"),gsap.set(c.visual,{visibility:"visible"}),b(c.visual,"play"))}))}}(t,o,e,a,i);var c=t.getAttribute("aa-accordion");"scroll"===c?function(t,e,a){if(window.ScrollTrigger){var i=t.getAttribute("aa-scroll-start")||"top 20%",o=A(i,"top 20%"),n=t.getAttribute("aa-distance")||"100",c=t.getAttribute("aa-scrub")||"true",l=e.toggles.length,s=l*parseFloat(n)*window.innerHeight/100,u=t.querySelector("[aa-accordion-initial]"),g=u&&e.toggles[0]===u,d=g?0:-1;e.toggles.forEach((function(t){t.style.pointerEvents="none",t.style.cursor="default"}));var v={value:0},f=gsap.to(v,{value:1,duration:1,ease:"none",paused:!0,onUpdate:function(){var t,i=v.value;if(t=g||i>0?Math.min(Math.floor(i*l),l-1):-1,d!==t){if(d>=0){var o=e.toggles[d],n=o.getAttribute("aa-accordion-toggle"),c=e.getElementData(n);c&&a.closeAccordion(o,c)}if(t>=0){var s=e.toggles[t],u=s.getAttribute("aa-accordion-toggle"),f=e.getElementData(u);f&&a.openAccordion(s,f)}d=t}!function(t,e,a,i){t.forEach((function(t,o){var n=t.querySelector("[aa-accordion-progress]");if(n){var c=n.getAttribute("aa-accordion-progress")||"width";if(o===e){var l=a*i-o,s=Math.max(0,Math.min(1,l));if("circle"===c){var u=t.querySelector('circle[aa-accordion-progress="circle"]');if(u){var g=parseFloat(u.getAttribute("r"))||25,d=2*Math.PI*g,v=d-s*d;u.style.strokeDashoffset=v}}else gsap.set(n,r({},c,"".concat(100*s,"%")))}else if("circle"===c){var f=t.querySelector('circle[aa-accordion-progress="circle"]');if(f){var b=parseFloat(f.getAttribute("r"))||25,A=2*Math.PI*b;f.style.strokeDashoffset=A}}else gsap.set(n,r({},c,"0%"))}}))}(e.toggles,t,i,l)}}),b=ScrollTrigger.create({trigger:t,start:o,end:"+=".concat(s),pin:!0,pinSpacing:!0,scrub:c&&parseFloat(c)||!0,animation:f});if(i.includes("|")){var p,y=window.innerWidth,h=function(){var t=window.innerWidth;if(y>=768&&t<768||y<768&&t>=768){var e=A(i,"top 20%");b.vars.start=e,b.refresh(),y=t}},m=function(){clearTimeout(p),p=setTimeout(h,250)};window.addEventListener("resize",m),window.matchMedia("(hover: none)").matches&&window.addEventListener("orientationchange",(function(){setTimeout(m,100)}))}}}(t,o,n):"autoplay"===c&&function(t,e,a){var i=null,o=0,n=null,c=null,l=t.querySelector("[aa-accordion-initial]");if(l){n=l,o=e.toggles.indexOf(l);var s=l.getAttribute("aa-accordion-toggle"),u=e.getElementData(s);u&&(l.setAttribute("aa-accordion-status","active"),u.content?l.setAttribute("aria-expanded","true"):l.setAttribute("aria-selected","true"),u.visual&&u.visual.setAttribute("aria-hidden","false"),u.content&&(gsap.set(u.content,{gridTemplateRows:"1fr"}),u.content.setAttribute("aa-accordion-status","active"),b(u.content,"play")),u.visual&&(u.visual.setAttribute("aa-accordion-status","active"),gsap.set(u.visual,{visibility:"visible"}),b(u.visual,"play")))}function g(l){if(!(l>=e.toggles.length)){var s=e.toggles[l],u=s.getAttribute("aa-accordion-toggle"),d=e.getElementData(u);if(d){if(n&&n!==s){var v=n.getAttribute("aa-accordion-toggle"),f=e.getElementData(v);f&&a.closeAccordion(n,f)}"active"===s.getAttribute("aa-accordion-status")||(a.openAccordion(s,d),n=s);var b=parseFloat(t.getAttribute("aa-duration"))||5;o=l,function(t,a){var o;i&&i.kill();var n=e.toggles[t],l=e.getElementData(n.getAttribute("aa-accordion-toggle"));if(l){var s=n.querySelector('circle[aa-accordion-progress="circle"]');if(s){var u,d=s.getAttribute("aa-ease")||"power1.inOut",v=parseFloat(s.getAttribute("r"))||25,f=2*Math.PI*v;s.style.strokeDasharray=f,s.style.strokeDashoffset=f,i=gsap.to(s,{strokeDashoffset:0,duration:a,ease:d,onComplete:function(){var a;null!==(a=c)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)},paused:!(null!==(u=c)&&void 0!==u&&u.isActive)})}else if(l.progressElement){var b,A=l.progressElement.getAttribute("aa-accordion-progress")||"width",p=l.progressElement.getAttribute("aa-ease")||"power1.inOut";"circle"===A?i=gsap.delayedCall(a,(function(){var a;null!==(a=c)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)})):(gsap.set(l.progressElement,r({},A,0)),i=gsap.to(l.progressElement,r(r(r(r(r({},A,"100%"),"duration",a),"ease",p),"onComplete",(function(){var a;null!==(a=c)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)})),"paused",!(null!==(b=c)&&void 0!==b&&b.isActive))))}else i=gsap.delayedCall(a,(function(){var a;null!==(a=c)&&void 0!==a&&a.isActive&&g((t+1)%e.toggles.length)}));null!==(o=c)&&void 0!==o&&o.isActive&&i.play()}}(l,b)}}}a.handleToggle.bind(a),a.handleToggle=function(r){var l,s,u=r.getAttribute("aa-accordion-toggle"),d=e.getElementData(u);if(d){var v="active"===r.getAttribute("aa-accordion-status"),f=t.querySelector("[aa-accordion-initial]");if(null!==(l=i)&&void 0!==l&&l.isActive()&&e.toggles.indexOf(r)===o)return;if(i&&(i.kill(),i=null),(!v||!f)&&(v?a.closeAccordion(r,d):(e.toggles.forEach((function(t){if(t!==r){var i=t.getAttribute("aa-accordion-toggle"),o=e.getElementData(i);"active"===t.getAttribute("aa-accordion-status")&&o&&a.closeAccordion(t,o)}})),a.openAccordion(r,d),n=r),null!==(s=c)&&void 0!==s&&s.isActive)){var b=e.toggles.indexOf(r);-1!==b&&g(b)}}},window.ScrollTrigger&&(c=ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",toggleActions:"play pause resume pause",onEnter:function(){i||gsap.delayedCall(.1,(function(){g(o)}))},onToggle:function(t){var e=t.isActive;i&&(e?i.play():i.pause())}})).isActive&&gsap.delayedCall(.2,(function(){g(o)}))}(t,o,n)}function y(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{accordion:function(t){p(t,e,a,i)}}}}}]);